<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600">
  <defs>
    <style>
      .title { font: bold 24px sans-serif; fill: #2c3e50; }
      .text { font: 14px sans-serif; fill: #555; }
      .small-text { font: 12px sans-serif; fill: #666; }
      .producer-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .event-bus { fill: #16a085; stroke: #138d75; stroke-width: 3; }
      .consumer-box { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
      .white-text { fill: white; font-weight: bold; }
      .arrow { fill: none; stroke: #2c3e50; stroke-width: 2; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2c3e50"/>
    </marker>
  </defs>
  
  <text x="500" y="40" text-anchor="middle" class="title">Event-Driven Architecture</text>
  <text x="500" y="65" text-anchor="middle" class="text">Components communicate through asynchronous events</text>
  
  <!-- Producers -->
  <g id="producers">
    <text x="150" y="130" text-anchor="middle" class="text">Event Producers</text>
    
    <rect x="70" y="150" width="160" height="60" rx="5" class="producer-box"/>
    <text x="150" y="175" text-anchor="middle" class="text white-text">User Service</text>
    <text x="150" y="195" text-anchor="middle" class="small-text white-text">Publishes: UserCreated</text>
    
    <rect x="70" y="235" width="160" height="60" rx="5" class="producer-box"/>
    <text x="150" y="260" text-anchor="middle" class="text white-text">Order Service</text>
    <text x="150" y="280" text-anchor="middle" class="small-text white-text">Publishes: OrderPlaced</text>
    
    <rect x="70" y="320" width="160" height="60" rx="5" class="producer-box"/>
    <text x="150" y="345" text-anchor="middle" class="text white-text">Payment Service</text>
    <text x="150" y="365" text-anchor="middle" class="small-text white-text">Publishes: PaymentProcessed</text>
  </g>
  
  <!-- Arrows to Event Bus -->
  <path d="M 230 180 L 330 260" class="arrow"/>
  <path d="M 230 265 L 330 280" class="arrow"/>
  <path d="M 230 350 L 330 300" class="arrow"/>
  
  <!-- Event Bus / Message Broker -->
  <rect x="330" y="200" width="340" height="160" rx="8" class="event-bus"/>
  <text x="500" y="235" text-anchor="middle" class="text white-text" font-size="18">Event Bus / Message Broker</text>
  <text x="500" y="260" text-anchor="middle" class="small-text white-text">Kafka / RabbitMQ / AWS EventBridge</text>
  <text x="500" y="295" text-anchor="middle" class="small-text white-text">üì® Events Queue:</text>
  <text x="500" y="315" text-anchor="middle" class="small-text white-text">‚Ä¢ UserCreated ‚Ä¢ OrderPlaced ‚Ä¢ PaymentProcessed</text>
  <text x="500" y="345" text-anchor="middle" class="small-text white-text">Decouples producers from consumers</text>
  
  <!-- Arrows to Consumers -->
  <path d="M 670 230 L 740 180" class="arrow"/>
  <path d="M 670 270 L 740 265" class="arrow"/>
  <path d="M 670 310 L 740 350" class="arrow"/>
  
  <!-- Consumers -->
  <g id="consumers">
    <text x="820" y="130" text-anchor="middle" class="text">Event Consumers</text>
    
    <rect x="740" y="150" width="160" height="60" rx="5" class="consumer-box"/>
    <text x="820" y="175" text-anchor="middle" class="text white-text">Email Service</text>
    <text x="820" y="195" text-anchor="middle" class="small-text white-text">Subscribes: UserCreated</text>
    
    <rect x="740" y="235" width="160" height="60" rx="5" class="consumer-box"/>
    <text x="820" y="260" text-anchor="middle" class="text white-text">Analytics Service</text>
    <text x="820" y="280" text-anchor="middle" class="small-text white-text">Subscribes: ALL events</text>
    
    <rect x="740" y="320" width="160" height="60" rx="5" class="consumer-box"/>
    <text x="820" y="345" text-anchor="middle" class="text white-text">Inventory Service</text>
    <text x="820" y="365" text-anchor="middle" class="small-text white-text">Subscribes: OrderPlaced</text>
  </g>
  
  <!-- Example Flow -->
  <g id="example">
    <rect x="50" y="420" width="900" height="60" rx="5" fill="#fff3e0" stroke="#f39c12" stroke-width="2"/>
    <text x="500" y="442" text-anchor="middle" class="text" fill="#e67e22" font-weight="bold">Example Flow:</text>
    <text x="70" y="465" class="small-text" fill="#e67e22">1. User places order ‚Üí OrderService publishes "OrderPlaced" event ‚Üí Event Bus receives it ‚Üí</text>
    <text x="70" y="485" class="small-text" fill="#e67e22">2. Inventory updates stock, Email sends confirmation, Analytics records event ‚Äî All happen independently!</text>
  </g>
  
  <!-- Pros & Cons -->
  <rect x="50" y="500" width="420" height="90" rx="5" fill="#d5f4e6" stroke="#27ae60" stroke-width="2"/>
  <text x="260" y="522" text-anchor="middle" class="text" fill="#27ae60" font-weight="bold">‚úÖ Benefits</text>
  <text x="70" y="545" class="small-text" fill="#27ae60">‚Ä¢ Loose coupling between components</text>
  <text x="70" y="565" class="small-text" fill="#27ae60">‚Ä¢ Easy to add new consumers</text>
  <text x="70" y="585" class="small-text" fill="#27ae60">‚Ä¢ Real-time processing & scalability</text>
  
  <rect x="530" y="500" width="420" height="90" rx="5" fill="#fadbd8" stroke="#e74c3c" stroke-width="2"/>
  <text x="740" y="522" text-anchor="middle" class="text" fill="#c0392b" font-weight="bold">‚ùå Challenges</text>
  <text x="550" y="545" class="small-text" fill="#c0392b">‚Ä¢ Difficult to debug and trace events</text>
  <text x="550" y="565" class="small-text" fill="#c0392b">‚Ä¢ Eventual consistency issues</text>
  <text x="550" y="585" class="small-text" fill="#c0392b">‚Ä¢ Complex error handling</text>
</svg>